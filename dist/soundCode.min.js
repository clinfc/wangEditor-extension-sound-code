!function(A,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("wangeditor")):"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.soundCode=n(require("wangeditor")):A.soundCode=n(A.wangEditor)}(window,(function(A){return function(A){var n={};function e(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return A[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=A,e.c=n,e.d=function(A,n,t){e.o(A,n)||Object.defineProperty(A,n,{enumerable:!0,get:t})},e.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},e.t=function(A,n){if(1&n&&(A=e(A)),8&n)return A;if(4&n&&"object"==typeof A&&A&&A.__esModule)return A;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:A}),2&n&&"string"!=typeof A)for(var o in A)e.d(t,o,function(n){return A[n]}.bind(null,o));return t},e.n=function(A){var n=A&&A.__esModule?function(){return A.default}:function(){return A};return e.d(n,"a",n),n},e.o=function(A,n){return Object.prototype.hasOwnProperty.call(A,n)},e.p="",e(e.s=16)}([function(n,e){n.exports=A},function(A,n){A.exports=function(A){if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}},function(A,n,e){"use strict";var t,o=function(){return void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},r=function(){var A={};return function(n){if(void 0===A[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(A){e=null}A[n]=e}return A[n]}}(),i=[];function a(A){for(var n=-1,e=0;e<i.length;e++)if(i[e].identifier===A){n=e;break}return n}function c(A,n){for(var e={},t=[],o=0;o<A.length;o++){var r=A[o],c=n.base?r[0]+n.base:r[0],s=e[c]||0,u="".concat(c," ").concat(s);e[c]=s+1;var l=a(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==l?(i[l].references++,i[l].updater(f)):i.push({identifier:u,updater:v(f,n),references:1}),t.push(u)}return t}function s(A){var n=document.createElement("style"),t=A.attributes||{};if(void 0===t.nonce){var o=e.nc;o&&(t.nonce=o)}if(Object.keys(t).forEach((function(A){n.setAttribute(A,t[A])})),"function"==typeof A.insert)A.insert(n);else{var i=r(A.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var u,l=(u=[],function(A,n){return u[A]=n,u.filter(Boolean).join("\n")});function f(A,n,e,t){var o=e?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(A.styleSheet)A.styleSheet.cssText=l(n,o);else{var r=document.createTextNode(o),i=A.childNodes;i[n]&&A.removeChild(i[n]),i.length?A.insertBefore(r,i[n]):A.appendChild(r)}}function d(A,n,e){var t=e.css,o=e.media,r=e.sourceMap;if(o?A.setAttribute("media",o):A.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),A.styleSheet)A.styleSheet.cssText=t;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(t))}}var p=null,m=0;function v(A,n){var e,t,o;if(n.singleton){var r=m++;e=p||(p=s(n)),t=f.bind(null,e,r,!1),o=f.bind(null,e,r,!0)}else e=s(n),t=d.bind(null,e,n),o=function(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A)}(e)};return t(A),function(n){if(n){if(n.css===A.css&&n.media===A.media&&n.sourceMap===A.sourceMap)return;t(A=n)}else o()}}A.exports=function(A,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var e=c(A=A||[],n);return function(A){if(A=A||[],"[object Array]"===Object.prototype.toString.call(A)){for(var t=0;t<e.length;t++){var o=a(e[t]);i[o].references--}for(var r=c(A,n),s=0;s<e.length;s++){var u=a(e[s]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}e=r}}}},function(A,n,e){"use strict";function t(A,n){return function(A){if(Array.isArray(A))return A}(A)||function(A,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(A)))return;var e=[],t=!0,o=!1,r=void 0;try{for(var i,a=A[Symbol.iterator]();!(t=(i=a.next()).done)&&(e.push(i.value),!n||e.length!==n);t=!0);}catch(A){o=!0,r=A}finally{try{t||null==a.return||a.return()}finally{if(o)throw r}}return e}(A,n)||function(A,n){if(!A)return;if("string"==typeof A)return o(A,n);var e=Object.prototype.toString.call(A).slice(8,-1);"Object"===e&&A.constructor&&(e=A.constructor.name);if("Map"===e||"Set"===e)return Array.from(A);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(A,n)}(A,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(A,n){(null==n||n>A.length)&&(n=A.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=A[e];return t}A.exports=function(A){var n=t(A,4),e=n[1],o=n[3];if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */"),c=o.sources.map((function(A){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(A," */")}));return[e].concat(c).concat([a]).join("\n")}return[e].join("\n")}},function(A,n,e){"use strict";A.exports=function(A){var n=[];return n.toString=function(){return this.map((function(n){var e=A(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(A,e,t){"string"==typeof A&&(A=[[null,A,""]]);var o={};if(t)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(var a=0;a<A.length;a++){var c=[].concat(A[a]);t&&o[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},function(A,n){function e(n){return A.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},e(n)}A.exports=e},function(A,n,e){"use strict";var t=e(3),o=e.n(t),r=e(4),i=e.n(r)()(o.a);i.push([A.i,".w-e-toolbar .w-e-list{padding:7px 10px}.w-e-toolbar .w-e-list .exit-monaco{padding:2px;text-align:left}.w-e-text-container .sound-code{position:absolute;width:100%;height:100%;top:0;left:0;background-color:#fff}.w-e-text-container .sound-code.hide{z-index:-1;opacity:0}.w-e-text-container .sound-code iframe{width:100%;height:100%;background-color:#eee;border:none}","",{version:3,sources:["webpack://./src/assets/scss/index.scss"],names:[],mappings:"AACI,uBACI,gBAAA,CACA,oCACI,WAAA,CACA,eAAA,CAKR,gCACI,iBAAA,CACA,UAAA,CACA,WAAA,CACA,KAAA,CACA,MAAA,CACA,qBAAA,CACA,qCACI,UAAA,CACA,SAAA,CAEJ,uCACI,UAAA,CACA,WAAA,CACA,qBAAA,CACA,WAAA",sourcesContent:[".w-e-toolbar {\r\n    .w-e-list {\r\n        padding: 7px 10px;\r\n        .exit-monaco {\r\n            padding: 2px;\r\n            text-align: left;\r\n        }\r\n    }\r\n}\r\n.w-e-text-container {\r\n    .sound-code {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        left: 0;\r\n        background-color: #ffffff;\r\n        &.hide {\r\n            z-index: -1;\r\n            opacity: 0;\r\n        }\r\n        iframe {\r\n            width: 100%;\r\n            height: 100%;\r\n            background-color: #eeeeee;\r\n            border: none;\r\n        }\r\n    }\r\n}\r\n"],sourceRoot:""}]),n.a=i},function(A,n,e){"use strict";var t=e(3),o=e.n(t),r=e(4),i=e.n(r),a=e(12),c=e.n(a),s=e(13),u=i()(o.a),l=c()(s.a);u.push([A.i,'@font-face {\r\n    font-family: "icomoon";\r\n    src: url('+l+') format("truetype");\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-display: block;\r\n}\r\n\r\n[class^="icon-"],\r\n[class*=" icon-"] {\r\n    /* use !important to prevent issues with browser extensions that change fonts */\r\n    font-family: "icomoon" !important;\r\n    speak: never;\r\n    font-style: normal;\r\n    font-weight: normal;\r\n    font-variant: normal;\r\n    text-transform: none;\r\n    line-height: 1;\r\n\r\n    /* Better Font Rendering =========== */\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.icon-embed2:before {\r\n    content: "\\ea80";\r\n}\r\n',"",{version:3,sources:["webpack://./src/assets/icomoon/index.css"],names:[],mappings:"AAAA;IACI,sBAAsB;IACtB,+DAAwD;IACxD,mBAAmB;IACnB,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;;IAEI,+EAA+E;IAC/E,iCAAiC;IACjC,YAAY;IACZ,kBAAkB;IAClB,mBAAmB;IACnB,oBAAoB;IACpB,oBAAoB;IACpB,cAAc;;IAEd,sCAAsC;IACtC,mCAAmC;IACnC,kCAAkC;AACtC;;AAEA;IACI,gBAAgB;AACpB",sourcesContent:['@font-face {\r\n    font-family: "icomoon";\r\n    src: url("fonts/icomoon.woff?6us1we") format("truetype");\r\n    font-weight: normal;\r\n    font-style: normal;\r\n    font-display: block;\r\n}\r\n\r\n[class^="icon-"],\r\n[class*=" icon-"] {\r\n    /* use !important to prevent issues with browser extensions that change fonts */\r\n    font-family: "icomoon" !important;\r\n    speak: never;\r\n    font-style: normal;\r\n    font-weight: normal;\r\n    font-variant: normal;\r\n    text-transform: none;\r\n    line-height: 1;\r\n\r\n    /* Better Font Rendering =========== */\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.icon-embed2:before {\r\n    content: "\\ea80";\r\n}\r\n'],sourceRoot:""}]),n.a=u},function(A,n){A.exports=function(A,n){if(!(A instanceof n))throw new TypeError("Cannot call a class as a function")}},function(A,n){function e(A,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(A,t.key,t)}}A.exports=function(A,n,t){return n&&e(A.prototype,n),t&&e(A,t),A}},function(A,n,e){var t=e(14);A.exports=function(A,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(n&&n.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),n&&t(A,n)}},function(A,n,e){var t=e(15),o=e(1);A.exports=function(A,n){return!n||"object"!==t(n)&&"function"!=typeof n?o(A):n}},function(A,n,e){"use strict";A.exports=function(A,n){return n||(n={}),"string"!=typeof(A=A&&A.__esModule?A.default:A)?A:(/^['"].*['"]$/.test(A)&&(A=A.slice(1,-1)),n.hash&&(A+=n.hash),/["'() \t\n]/.test(A)||n.needQuotes?'"'.concat(A.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):A)}},function(A,n,e){"use strict";n.a="data:font/woff;base64,d09GRgABAAAAAASUAAsAAAAABEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIHKmNtYXAAAAFoAAAAVAAAAFQV1tWHZ2FzcAAAAbwAAAAIAAAACAAAABBnbHlmAAABxAAAAIwAAACMOOrpd2hlYWQAAAJQAAAANgAAADYb3RG4aGhlYQAAAogAAAAkAAAAJAiiBMZobXR4AAACrAAAABQAAAAUCwAAIGxvY2EAAALAAAAADAAAAAwAKABabWF4cAAAAswAAAAgAAAAIAAJABJuYW1lAAAC7AAAAYYAAAGGmUoJ+3Bvc3QAAAR0AAAAIAAAACAAAwAAAAMDgAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA6oADwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADgAAAAKAAgAAgACAAEAIOqA//3//wAAAAAAIOqA//3//wAB/+MVhAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAwAgAFcE4AMpAAUACwAPAAAlFwkBBxclJwkBNycBFwMnA0BgAUD+wGDg/aBg/sABQGDgAd1GwEbgYAFAAUBg4OBg/sD+wGDgAWkS/UASAAABAAAAAAAA8JRQjV8PPPUACwQAAAAAANvv5skAAAAA2+/myQAAAAAE4AMpAAAACAACAAAAAAAAAAEAAAPA/8AAAAUAAAAAAATgAAEAAAAAAAAAAAAAAAAAAAAFBAAAAAAAAAAAAAAAAgAAAAUAACAAAAAAAAoAFAAeAEYAAQAAAAUAEAADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="},function(A,n){function e(n,t){return A.exports=e=Object.setPrototypeOf||function(A,n){return A.__proto__=n,A},e(n,t)}A.exports=e},function(A,n){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?A.exports=e=function(A){return typeof A}:A.exports=e=function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(n)}A.exports=e},function(A,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return D}));var t=e(8),o=e.n(t),r=e(9),i=e.n(r),a=e(1),c=e.n(a),s=e(10),u=e.n(s),l=e(11),f=e.n(l),d=e(5),p=e.n(d),m=e(2),v=e.n(m),h=e(6),g={insert:"head",singleton:!1},b=(v()(h.a,g),h.a.locals,e(7)),C={insert:"head",singleton:!1},y=(v()(b.a,C),b.a.locals,e(0)),w=e.n(y),B=w.a.$;var x=function(A){var n=A.container,e=A.editor,t={},o=null;return t.open=function(){var r=n.find("iframe").elems[0],i=e.config.soundCodeTimeout||5e3,a=Date.now();r.contentDocument.write(function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A=Object.assign({language:"html",theme:"vs-dark"},A||{}),'\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="UTF-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <style type="text/css">.container {width: 100%;height: 100%;position: fixed;top: 0;left: 0;}</style>\n    </head>\n    <body>\n        <div class="container"></div>\n        <script src="https://cdn.staticfile.org/monaco-editor/0.21.2/min/vs/loader.min.js"><\/script>\n        <script>\n            require.config({ paths: { vs: \'https://cdn.staticfile.org/monaco-editor/0.21.2/min/vs\' } });\n            require([\'vs/editor/editor.main\'], function () {\n                const div = document.querySelector(\'.container\');\n                window.monacoInstance = monaco.editor.create(div, '.concat(JSON.stringify(A),");\n                window.addEventListener('resize', function () {\n                    monacoInstance.layout();\n                });\n            })\n        <\/script>\n    </body>\n</html>\n")}(e.config.soundCodeOption));var c=setInterval((function(){if(r.contentWindow.monacoInstance)return clearInterval(c),o=r.contentWindow.monacoInstance,t.open=function(){if(A.isActive)A.unActive();else{o.setValue(e.$textElem.html());var t=A.editor.zIndex.get("tooltip");n.removeClass("hide").css("z-index",t),A.active()}},t.open(),void r.contentDocument.addEventListener("keydown",(function(n){if(27==n.keyCode)return t.exit(),void A.unActive();n.ctrlKey&&83==n.keyCode&&(n.preventDefault(),t.save())}));if(Date.now()-a>i)throw clearInterval(c),new Error("Monaco Editor 初始化失败")}),500)},t.save=function(){e.$textElem.html(o.getValue())},t.exit=function(){o.setValue(""),n.addClass("hide").css("z-index",-1)},t},E=w.a.$,I=w.a.DropList;function Q(A){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(A){return!1}}();return function(){var e,t=p()(A);if(n){var o=p()(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f()(this,e)}}var j=w.a.$,k=function(A){u()(e,A);var n=Q(e);function e(A){var t;o()(this,e);var r,i,a=j('<div class="w-e-menu" data-title="源码编辑"><i class="icon-embed2"></i></div>');return(t=n.call(this,a,A)).container=(r=c()(t),(i=B('<div class="sound-code"><iframe frameborder="0"></iframe></div>')).addClass("hide"),r.editor.$textContainerElem.append(i),i),t.controller=x(c()(t)),function(A){var n=A.$elem,e=A.editor,t={title:"",width:110,type:"list",list:[{$elem:E('<div class="exit-monaco">保存内容</div>'),value:0},{$elem:E('<div class="exit-monaco">保存并退出</div>'),value:1},{$elem:E('<div class="exit-monaco">退出</div>'),value:2}],clickHandler:function(n){switch(n){case 0:A.controller.save();break;case 1:A.controller.save(),A.controller.exit();break;default:A.controller.exit()}}},o=new I(A,t);n.on("mouseenter",(function(){A.isActive&&(n.css("z-index",e.zIndex.get("menu")),o.showTimeoutId=window.setTimeout((function(){o.show()}),200))})).on("mouseleave",(function(){A.isActive&&(n.css("z-index","auto"),o.hideTimeoutId=window.setTimeout((function(){o.hide()})))}))}(c()(t)),t}return i()(e,[{key:"clickHandler",value:function(){this.container.hasClass("hide")&&this.controller.open()}},{key:"tryChangeActive",value:function(){}}]),e}(w.a.BtnMenu);function D(A){var n="soundCode";A.registerMenu?A.registerMenu(n,k):-1==A.config.menus.indexOf(n)&&(A.menus.extend(n,k),A.config.menus.push(n),A.config.soundCodeTimeout=5e3,A.config.soundCodeOption={})}}]).default}));
//# sourceMappingURL=soundCode.min.js.map